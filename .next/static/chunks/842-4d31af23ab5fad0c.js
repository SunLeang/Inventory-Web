(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[842],{1135:(e,t,a)=>{"use strict";a.d(t,{default:()=>_});var r=a(5155),s=a(2115),n=a(5695),l=a(7168),i=a(3999);function o(e){let{className:t,type:a,...s}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}var d=a(968);function c(e){let{className:t,...a}=e;return(0,r.jsx)(d.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}function u(e){let{className:t,...a}=e;return(0,r.jsx)("textarea",{"data-slot":"textarea",className:(0,i.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}var m=a(5713),p=a(6474),x=a(5196),g=a(7863);function b(e){let{...t}=e;return(0,r.jsx)(m.bL,{"data-slot":"select",...t})}function f(e){let{...t}=e;return(0,r.jsx)(m.WT,{"data-slot":"select-value",...t})}function h(e){let{className:t,size:a="default",children:s,...n}=e;return(0,r.jsxs)(m.l9,{"data-slot":"select-trigger","data-size":a,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[s,(0,r.jsx)(m.In,{asChild:!0,children:(0,r.jsx)(p.A,{className:"size-4 opacity-50"})})]})}function v(e){let{className:t,children:a,position:s="popper",...n}=e;return(0,r.jsx)(m.ZL,{children:(0,r.jsxs)(m.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[(0,r.jsx)(j,{}),(0,r.jsx)(m.LM,{className:(0,i.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,r.jsx)(w,{})]})})}function y(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(m.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(m.VF,{children:(0,r.jsx)(x.A,{className:"size-4"})})}),(0,r.jsx)(m.p4,{children:a})]})}function j(e){let{className:t,...a}=e;return(0,r.jsx)(m.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(g.A,{className:"size-4"})})}function w(e){let{className:t,...a}=e;return(0,r.jsx)(m.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(p.A,{className:"size-4"})})}var N=a(8482),D=a(1886),C=a(1539),E=a(3311),F=a(1154),k=a(4229);function _(e){let{item:t}=e,a=(0,n.useRouter)(),[i,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)(null),[x,g]=(0,s.useState)({name:(null==t?void 0:t.name)||"",description:(null==t?void 0:t.description)||"",category:(null==t?void 0:t.category)||"",quantity:(null==t?void 0:t.quantity)||0,price:(null==t?void 0:t.price)||0,rarity:(null==t?void 0:t.rarity)||"common",image_url:(null==t?void 0:t.image_url)||""}),j=async e=>{if(e.preventDefault(),d(!0),p(null),!x.name.trim()){p("\uD83D\uDEA8 Item name is required for crafting!"),d(!1);return}if(!x.category){p("\uD83C\uDFF7️ Category must be selected!"),d(!1);return}console.log("Submitting form data:",x);try{t?await (0,D.Fv)(t.id,x):await (0,D.wp)(x),a.push("/"),a.refresh()}catch(e){console.error("Error saving item:",e),p(e instanceof Error?"\uD83D\uDCA5 ".concat(e.message):"⚠️ Failed to craft item. Please try again.")}finally{d(!1)}};return(0,r.jsxs)(N.Zp,{className:"bg-gradient-to-br from-slate-900/95 to-slate-800/95 border-2 border-purple-500/30 backdrop-blur-xl shadow-2xl shadow-purple-500/20",children:[(0,r.jsxs)(N.aR,{className:"relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/10 to-pink-600/10"}),(0,r.jsx)(N.ZB,{className:"relative text-3xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent flex items-center gap-3",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.A,{className:"h-8 w-8 text-yellow-400"}),"Enhance Item"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.A,{className:"h-8 w-8 text-purple-400"}),"Craft New Item"]})})]}),(0,r.jsxs)(N.Wu,{children:[m&&(0,r.jsx)("div",{className:"bg-gradient-to-r from-red-900/80 to-red-800/80 border-2 border-red-500 text-red-200 px-6 py-4 rounded-xl mb-6 font-semibold shadow-lg shadow-red-500/30",children:m}),(0,r.jsxs)("form",{onSubmit:j,className:"space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(c,{htmlFor:"name",className:"text-cyan-300 font-bold text-base flex items-center gap-2",children:"⚔️ Item Name"}),(0,r.jsx)(o,{id:"name",value:x.name,onChange:e=>g({...x,name:e.target.value}),required:!0,className:"bg-slate-800/80 border-2 border-slate-600 text-white text-lg font-semibold placeholder:text-slate-400 focus:border-cyan-400 transition-all duration-300",placeholder:"Enter legendary item name..."})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(c,{htmlFor:"category",className:"text-cyan-300 font-bold text-base flex items-center gap-2",children:"\uD83C\uDFF7️ Category"}),(0,r.jsxs)(b,{value:x.category,onValueChange:e=>g({...x,category:e}),children:[(0,r.jsx)(h,{className:"bg-slate-800/80 border-2 border-slate-600 text-white text-lg font-semibold focus:border-cyan-400",children:(0,r.jsx)(f,{placeholder:"Select item category..."})}),(0,r.jsxs)(v,{className:"bg-slate-800 border-slate-600",children:[(0,r.jsx)(y,{value:"Weapons",className:"text-red-300 font-semibold",children:"⚔️ Weapons"}),(0,r.jsx)(y,{value:"Armor",className:"text-blue-300 font-semibold",children:"\uD83D\uDEE1️ Armor"}),(0,r.jsx)(y,{value:"Consumables",className:"text-green-300 font-semibold",children:"\uD83E\uDDEA Consumables"}),(0,r.jsx)(y,{value:"Materials",className:"text-yellow-300 font-semibold",children:"\uD83D\uDD2E Materials"}),(0,r.jsx)(y,{value:"Accessories",className:"text-purple-300 font-semibold",children:"\uD83D\uDC8D Accessories"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(c,{htmlFor:"description",className:"text-cyan-300 font-bold text-base flex items-center gap-2",children:"\uD83D\uDCDC Lore & Description"}),(0,r.jsx)(u,{id:"description",value:x.description,onChange:e=>g({...x,description:e.target.value}),className:"bg-slate-800/80 border-2 border-slate-600 text-white text-base placeholder:text-slate-400 focus:border-cyan-400 transition-all duration-300",placeholder:"Describe the mystical powers and legendary origins of this item...",rows:4})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(c,{htmlFor:"quantity",className:"text-cyan-300 font-bold text-base flex items-center gap-2",children:"\uD83D\uDCE6 Quantity"}),(0,r.jsx)(o,{id:"quantity",type:"number",value:x.quantity,onChange:e=>g({...x,quantity:Number.parseInt(e.target.value)||0}),required:!0,min:"0",className:"bg-slate-800/80 border-2 border-slate-600 text-white text-lg font-semibold focus:border-cyan-400 transition-all duration-300"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(c,{htmlFor:"price",className:"text-yellow-400 font-bold text-base flex items-center gap-2",children:"\uD83E\uDE99 Price (Gold)"}),(0,r.jsx)(o,{id:"price",type:"number",step:"0.01",value:x.price,onChange:e=>g({...x,price:Number.parseFloat(e.target.value)||0}),required:!0,min:"0",className:"bg-yellow-900/30 border-2 border-yellow-600 text-yellow-100 text-lg font-semibold focus:border-yellow-400 transition-all duration-300"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(c,{htmlFor:"rarity",className:"text-purple-300 font-bold text-base flex items-center gap-2",children:"✨ Rarity"}),(0,r.jsxs)(b,{value:x.rarity,onValueChange:e=>g({...x,rarity:e}),children:[(0,r.jsx)(h,{className:"bg-slate-800/80 border-2 border-purple-600 text-white text-lg font-semibold focus:border-purple-400",children:(0,r.jsx)(f,{})}),(0,r.jsxs)(v,{className:"bg-slate-800 border-purple-600",children:[(0,r.jsx)(y,{value:"common",className:"text-gray-300",children:"⚪ Common"}),(0,r.jsx)(y,{value:"uncommon",className:"text-green-300",children:"\uD83D\uDFE2 Uncommon"}),(0,r.jsx)(y,{value:"rare",className:"text-blue-300",children:"\uD83D\uDD35 Rare"}),(0,r.jsx)(y,{value:"epic",className:"text-purple-300",children:"\uD83D\uDFE3 Epic"}),(0,r.jsx)(y,{value:"legendary",className:"text-yellow-300",children:"\uD83D\uDFE1 Legendary"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(c,{htmlFor:"image_url",className:"text-cyan-300 font-bold text-base flex items-center gap-2",children:"\uD83D\uDDBC️ Image URL (Optional)"}),(0,r.jsx)(o,{id:"image_url",value:x.image_url,onChange:e=>g({...x,image_url:e.target.value}),className:"bg-slate-800/80 border-2 border-slate-600 text-white text-lg placeholder:text-slate-400 focus:border-cyan-400 transition-all duration-300",placeholder:"https://example.com/legendary-item.jpg"})]}),(0,r.jsx)(l.$,{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 hover:from-purple-500 hover:via-pink-500 hover:to-purple-500 text-white font-bold py-4 text-xl shadow-2xl shadow-purple-500/40 transition-all duration-300 hover:scale-[1.02] border border-purple-400/50",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.A,{className:"h-6 w-6 mr-3 animate-spin"}),t?"Enhancing...":"Crafting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k.A,{className:"h-6 w-6 mr-3"}),t?"\uD83D\uDD25 Enhance Item":"✨ Craft Item"]})})]})]})]})}},1886:(e,t,a)=>{"use strict";a.d(t,{Fv:()=>n,T$:()=>l,wp:()=>s});let r="http://localhost:3100";async function s(e){console.log("Creating item with data:",e);let t=await fetch("".concat(r,"/inventory"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.text();throw console.error("API Error Response:",e),Error("Failed to create inventory item: ".concat(e))}return t.json()}async function n(e,t){let a=await fetch("".concat(r,"/inventory/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update inventory item");return a.json()}async function l(e){if(!(await fetch("".concat(r,"/inventory/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete inventory item")}},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2596),s=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},4842:(e,t,a)=>{Promise.resolve().then(a.bind(a,1135)),Promise.resolve().then(a.t.bind(a,6874,23))},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>o});var r=a(5155),s=a(2115),n=a(9708),l=a(2085),i=a(3999);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"game-button-primary",destructive:"game-button-danger",success:"game-button-success",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:a})),ref:t,...c})});d.displayName="Button"},8482:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>l});var r=a(5155);a(2115);var s=a(3999);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}}}]);